<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±‚ç´¢ä¹¦ç¤¾çµé­‚å¯»å‹</title>
    <style>
        /* CSSå˜é‡å®šä¹‰ */
        :root {
            /* æµ…è‰²ä¸»é¢˜å˜é‡ */
            --bg-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --bg-secondary: rgba(255, 255, 255, 0.95);
            --bg-tertiary: #ffffff;
            --text-primary: #333;
            --text-secondary: #555;
            --text-tertiary: #666;
            --text-muted: #888;
            --border-color: #e1e8ed;
            --border-hover: #667eea;
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-medium: rgba(0,0,0,0.15);
            --input-bg: rgba(255, 255, 255, 0.9);
            --card-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            --profile-section-bg: white;
        }

        /* æ·±è‰²ä¸»é¢˜å˜é‡ */
        [data-theme="dark"] {
            --bg-primary: linear-gradient(135deg, #2d3748 0%, #1a1a2e 100%);
            --bg-secondary: rgba(45, 55, 72, 0.95);
            --bg-tertiary: #4a5568;
            --text-primary: #f7fafc;
            --text-secondary: #e2e8f0;
            --text-tertiary: #a0aec0;
            --text-muted: #718096;
            --border-color: #4a5568;
            --border-hover: #667eea;
            --shadow-light: rgba(0,0,0,0.3);
            --shadow-medium: rgba(0,0,0,0.4);
            --input-bg: rgba(74, 85, 104, 0.9);
            --card-bg: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            --profile-section-bg: #2d3748;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            transition: background 0.3s ease, color 0.3s ease;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .section {
            background: var(--bg-secondary);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px var(--shadow-light);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px var(--shadow-medium);
        }
        
        .section h2 {
            color: var(--text-primary);
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h2::before {
            content: "ğŸ“‹";
            font-size: 1.2rem;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--text-secondary);
        }
        
        input[type="text"], input[type="password"], input[type="email"], textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: var(--input-bg);
            color: var(--text-primary);
        }
        
        input[type="text"]:focus, input[type="password"]:focus, input[type="email"]:focus, textarea:focus {
            outline: none;
            border-color: var(--border-hover);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }
        
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 5px;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-right: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button.secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);
        }
        
        button.secondary:hover {
            box-shadow: 0 6px 20px rgba(149, 165, 166, 0.4);
        }
        
        .member-list {
            margin-top: 20px;
        }
        
        .member-item {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }
        
        .member-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 20px var(--shadow-light);
        }
        
        .member-info h3 {
            color: var(--text-primary);
            margin-bottom: 5px;
        }
        
        .member-details {
            font-size: 14px;
            color: var(--text-tertiary);
        }
        
        .delete-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            padding: 8px 16px;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        .delete-btn:hover {
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }
        
        .match-section {
            text-align: center;
            margin: 30px 0;
        }
        
        .match-btn {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            margin: 10px;
            padding: 15px 30px;
            font-size: 18px;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }
        
        .match-btn:hover {
            box-shadow: 0 6px 20px rgba(0, 184, 148, 0.4);
        }
        
        .match-results {
            margin-top: 30px;
        }
        
        .match-item {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            border-left: 5px solid #00b894;
            box-shadow: 0 8px 32px rgba(0, 184, 148, 0.1);
            transition: all 0.3s ease;
        }
        
        .match-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 184, 148, 0.15);
        }
        
        .match-item h3 {
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .match-score {
            font-size: 24px;
            font-weight: bold;
            color: #00b894;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0, 184, 148, 0.2);
        }
        
        .match-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        
        .person-info {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .person-info:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .person-info h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .common-interests {
            margin-top: 15px;
            padding: 10px;
            background: #fff3cd;
            border-radius: 4px;
        }
        
        .common-interests h4 {
            color: #856404;
            margin-bottom: 5px;
        }
        
        .tag {
            display: inline-block;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            margin: 3px;
            font-size: 13px;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(116, 185, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .tag:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(116, 185, 255, 0.4);
        }
        
        /* å•é€‰æ¡†æ ·å¼ */
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--input-bg);
            color: var(--text-primary);
        }
        
        .radio-option:hover {
            border-color: var(--border-hover);
            background: rgba(102, 126, 234, 0.05);
        }

        /* æ·±è‰²ä¸»é¢˜ä¸‹çš„å•é€‰æ¡†æ ·å¼ä¿®æ­£ */
        [data-theme="dark"] .radio-option {
            background: rgba(74, 85, 104, 0.7);
            color: var(--text-primary);
        }

        [data-theme="dark"] .radio-option:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .radio-option input[type="radio"] {
            display: none;
        }
        
        .radio-custom {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            margin-right: 12px;
            position: relative;
            flex-shrink: 0;
            background: var(--input-bg);
        }
        
        .radio-option input[type="radio"]:checked + .radio-custom {
            border-color: #667eea;
            background: #667eea;
        }
        
        .radio-option input[type="radio"]:checked + .radio-custom::after {
            content: '';
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .radio-option input[type="radio"]:checked ~ .commitment-option {
            color: #667eea;
        }

        /* æ·±è‰²ä¸»é¢˜ä¸‹å•é€‰æ¡†æ§ä»¶ä¿®æ­£ */
        [data-theme="dark"] .radio-custom {
            border-color: #718096;
            background: rgba(74, 85, 104, 0.5);
        }
        
        /* å¤é€‰æ¡†æ ·å¼ */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 8px;
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--input-bg);
            color: var(--text-primary);
        }
        
        .checkbox-option:hover {
            border-color: var(--border-hover);
            background: rgba(102, 126, 234, 0.05);
        }

        /* æ·±è‰²ä¸»é¢˜ä¸‹çš„å¤é€‰æ¡†æ ·å¼ä¿®æ­£ */
        [data-theme="dark"] .checkbox-option {
            background: rgba(74, 85, 104, 0.7);
            color: var(--text-primary);
        }

        [data-theme="dark"] .checkbox-option:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .checkbox-option input[type="checkbox"] {
            display: none;
        }
        
        .checkbox-custom {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            margin-right: 10px;
            position: relative;
            flex-shrink: 0;
            background: var(--input-bg);
        }
        
        .checkbox-option input[type="checkbox"]:checked + .checkbox-custom {
            border-color: #667eea;
            background: #667eea;
        }

        /* æ·±è‰²ä¸»é¢˜ä¸‹å¤é€‰æ¡†æ§ä»¶ä¿®æ­£ */
        [data-theme="dark"] .checkbox-custom {
            border-color: #718096;
            background: rgba(74, 85, 104, 0.5);
        }
        
        .checkbox-option input[type="checkbox"]:checked + .checkbox-custom::after {
            content: 'âœ“';
            color: white;
            font-size: 12px;
            font-weight: bold;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* æœ€çˆ±ä¹¦ç±åŠ¨æ€è¾“å…¥ */
        .book-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .book-input-group input {
            flex: 1;
        }
        
        .remove-book {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            padding: 6px 12px;
            font-size: 12px;
            min-width: 60px;
        }
        
        /* å­—ç¬¦è®¡æ•°å™¨ */
        .char-count {
            float: right;
            font-size: 11px;
            color: #999;
        }
        
        .char-count.warning {
            color: #ff6b6b;
        }
        
        /* é˜…è¯»é¢„æœŸé€‰é¡¹ */
        .commitment-option {
            display: flex;
            flex-direction: column;
            color: var(--text-primary);
        }
        
        .commitment-option strong {
            margin-bottom: 4px;
            color: var(--text-primary);
        }
        
        .commitment-option small {
            color: var(--text-tertiary);
            line-height: 1.3;
        }

        /* æ·±è‰²ä¸»é¢˜ä¸‹commitment-optionæ–‡å­—é¢œè‰²ä¿®æ­£ */
        [data-theme="dark"] .commitment-option {
            color: var(--text-primary);
        }

        [data-theme="dark"] .commitment-option strong {
            color: var(--text-primary);
        }

        [data-theme="dark"] .commitment-option small {
            color: var(--text-secondary);
        }

        /* æ·±è‰²ä¸»é¢˜ä¸‹çš„é™„åŠ ä¿®æ­£ */
        [data-theme="dark"] .radio-option:hover {
            background: rgba(102, 126, 234, 0.15);
            color: var(--text-primary);
        }

        [data-theme="dark"] .checkbox-option:hover {
            background: rgba(102, 126, 234, 0.15);
            color: var(--text-primary);
        }

        /* ç¡®ä¿æ·±è‰²ä¸»é¢˜ä¸‹é€‰ä¸­çŠ¶æ€çš„å¯¹æ¯”åº¦ */
        [data-theme="dark"] .radio-option input[type="radio"]:checked ~ .commitment-option {
            color: #74b9ff;
        }

        [data-theme="dark"] .radio-option input[type="radio"]:checked ~ .commitment-option strong {
            color: #74b9ff;
        }
        
        /* å¿…å¡«å­—æ®µæ ‡è¯† */
        .required {
            color: #ff6b6b;
            font-weight: bold;
        }

        /* å¤´åƒç›¸å…³æ ·å¼ */
        .avatar-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .avatar-preview-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .avatar-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid #e1e8ed;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            transition: all 0.3s ease;
        }

        .avatar-preview:hover {
            border-color: #667eea;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .avatar-placeholder {
            font-size: 48px;
            color: #adb5bd;
            opacity: 0.7;
        }

        .avatar-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .avatar-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
        }

        .avatar-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .avatar-btn.secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            box-shadow: 0 3px 10px rgba(149, 165, 166, 0.3);
        }

        .avatar-btn.secondary:hover {
            box-shadow: 0 5px 15px rgba(149, 165, 166, 0.4);
        }

        .avatar-btn.remove {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            box-shadow: 0 3px 10px rgba(255, 107, 107, 0.3);
        }

        .avatar-btn.remove:hover {
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .default-avatars {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            border: 2px solid #e1e8ed;
        }

        .avatars-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            max-width: 360px;
        }

        .default-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .default-avatar:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .default-avatar.selected {
            border-color: #00b894;
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            transform: scale(1.05);
        }

        /* ç”¨æˆ·èµ„æ–™æ˜¾ç¤ºå¤´åƒ */
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #e1e8ed;
            display: inline-block;
            margin-right: 20px;
            vertical-align: middle;
            object-fit: cover;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            text-align: center;
            line-height: 74px;
            font-size: 32px;
        }

        .profile-info {
            display: inline-block;
            vertical-align: middle;
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .avatars-grid {
                grid-template-columns: repeat(4, 1fr);
                max-width: 240px;
            }
            
            .avatar-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .avatar-btn {
                width: 100%;
                max-width: 200px;
            }
        }
        
        /* ä¸ªäººç®€ä»‹å’Œå…´è¶£æ ‡ç­¾æ ·å¼ */
        .interest-tags-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #e1e8ed;
        }

        .preset-tags-container {
            margin-bottom: 20px;
        }

        .preset-tags-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }

        .preset-tags-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tag-category {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .category-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tags-row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .preset-tag {
            display: inline-block;
            background: linear-gradient(135deg, #ffffff 0%, #f1f3f4 100%);
            color: #495057;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            user-select: none;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .preset-tag:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(102, 126, 234, 0.3);
        }

        .preset-tag.selected {
            border-color: #00b894;
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            box-shadow: 0 3px 8px rgba(0, 184, 148, 0.3);
        }

        .custom-tags-container {
            border-top: 2px dashed #e1e8ed;
            padding-top: 15px;
            margin-bottom: 20px;
        }

        .custom-tag-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 8px;
        }

        .custom-tag-input-group input {
            flex: 1;
            padding: 10px 14px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .custom-tag-input-group input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .add-tag-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
        }

        .add-tag-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .add-tag-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
        }

        .selected-tags-container {
            border-top: 2px dashed #e1e8ed;
            padding-top: 15px;
        }

        .selected-tags-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }

        .tags-count {
            color: #6c757d;
            font-size: 12px;
            font-weight: normal;
        }

        .selected-tags {
            min-height: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            padding: 12px;
            border: 2px dashed #e1e8ed;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        .no-tags-message {
            color: #adb5bd;
            font-style: italic;
            font-size: 13px;
            text-align: center;
            width: 100%;
        }

        .selected-tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            box-shadow: 0 2px 6px rgba(0, 184, 148, 0.3);
            animation: tagSlideIn 0.3s ease-out;
        }

        .selected-tag .tag-remove {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            transition: all 0.2s ease;
            line-height: 1;
        }

        .selected-tag .tag-remove:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        @keyframes tagSlideIn {
            from {
                opacity: 0;
                transform: translateY(-10px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* ç”¨æˆ·èµ„æ–™ä¸­çš„æ ‡ç­¾æ˜¾ç¤º */
        .profile-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
        }

        .profile-tag {
            display: inline-block;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            box-shadow: 0 1px 4px rgba(116, 185, 255, 0.3);
        }

        .profile-bio {
            background: rgba(255, 255, 255, 0.6);
            padding: 12px;
            border-radius: 8px;
            margin-top: 8px;
            border-left: 3px solid #74b9ff;
            font-style: italic;
            color: #555;
            line-height: 1.5;
        }
        .exact-tag {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            box-shadow: 0 2px 8px rgba(0, 184, 148, 0.3);
        }
        
        .exact-tag:hover {
            box-shadow: 0 4px 12px rgba(0, 184, 148, 0.4);
        }
        
        .semantic-tag {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            box-shadow: 0 2px 8px rgba(253, 203, 110, 0.3);
        }
        
        .semantic-tag:hover {
            box-shadow: 0 4px 12px rgba(253, 203, 110, 0.4);
        }
        
        .category-tag {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            box-shadow: 0 2px 8px rgba(162, 155, 254, 0.3);
        }
        
        .category-tag:hover {
            box-shadow: 0 4px 12px rgba(162, 155, 254, 0.4);
        }
        
        /* æ–°å¢åŒ¹é…ç»´åº¦æ ‡ç­¾æ ·å¼ */
        .perfect-tag, .good-tag {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            box-shadow: 0 2px 8px rgba(0, 184, 148, 0.3);
        }
        
        .moderate-tag {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            box-shadow: 0 2px 8px rgba(253, 203, 110, 0.3);
        }
        
        .poor-tag {
            background: linear-gradient(135deg, #ff7675 0%, #d63031 100%);
            box-shadow: 0 2px 8px rgba(255, 118, 117, 0.3);
        }
        
        .ai-analysis-tag {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            box-shadow: 0 2px 8px rgba(108, 92, 231, 0.3);
        }
        
        /* åå¥½åˆ†ææ ·å¼ */
        .preference-analysis {
            background: linear-gradient(135deg, #e3f2fd 0%, #f0f7ff 100%);
            border-left: 5px solid #2196f3;
        }
        
        .preference-tag {
            background: linear-gradient(135deg, #2196f3 0%, #42a5f5 100%);
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
        }
        
        .preference-note {
            margin-top: 8px;
            padding: 8px;
            background: rgba(33, 150, 243, 0.1);
            border-radius: 6px;
            font-size: 13px;
            color: #1976d2;
        }
        
        /* æ·±åº¦åˆ†ææ ·å¼ */
        .deep-analysis {
            background: linear-gradient(135deg, #e8e4ff 0%, #f1f0ff 100%);
            border-left: 5px solid #6c5ce7;
        }
        
        .personality-analysis {
            background: linear-gradient(135deg, #fff9e6 0%, #fffbeb 100%);
            border-left: 5px solid #f39c12;
        }
        
        .implicit-analysis {
            background: linear-gradient(135deg, #e8f6ff 0%, #f0f9ff 100%);
            border-left: 5px solid #3498db;
        }
        
        .deep-compatibility {
            background: linear-gradient(135deg, #ffe8f1 0%, #fff0f5 100%);
            border-left: 5px solid #e84393;
        }
        
        .dimensions-breakdown {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 5px solid #6c757d;
        }
        
        /* äººæ ¼ç»´åº¦æ¯”è¾ƒ */
        .personality-dimension {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
        }
        
        .dimension-icon {
            margin-right: 8px;
            font-size: 16px;
        }
        
        .dimension-name {
            min-width: 120px;
            font-size: 13px;
            color: #555;
        }
        
        .dimension-bars {
            flex: 1;
            margin: 0 12px;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .member-bar {
            height: 100%;
            background: linear-gradient(90deg, #74b9ff, #0984e3);
            border-radius: 4px;
            position: absolute;
            top: 0;
            opacity: 0.8;
        }
        
        .member-bar.member2 {
            background: linear-gradient(90deg, #fd79a8, #e84393);
            top: 50%;
            height: 50%;
            opacity: 0.7;
        }
        
        .similarity-indicator {
            min-width: 40px;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .similarity-indicator.high { color: #00b894; }
        .similarity-indicator.medium { color: #fdcb6e; }
        .similarity-indicator.low { color: #e17055; }
        
        /* å…¼å®¹æ€§ç»´åº¦å±•ç¤º */
        .compatibility-dimensions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 10px;
        }
        
        .compat-dimension {
            display: flex;
            align-items: center;
            padding: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 6px;
        }
        
        .dim-icon {
            margin-right: 8px;
        }
        
        .dim-label {
            min-width: 60px;
            font-size: 12px;
            color: #666;
        }
        
        .dim-bar {
            flex: 1;
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
            margin: 0 8px;
            position: relative;
            overflow: hidden;
        }
        
        .dim-fill {
            height: 100%;
            background: linear-gradient(90deg, #55a3ff, #667eea);
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        .dim-value {
            font-size: 11px;
            color: #666;
            min-width: 30px;
        }
        
        /* ç»´åº¦å¾—åˆ†å±•ç¤º */
        .dimensions-grid {
            display: grid;
            gap: 12px;
            margin-top: 15px;
        }
        
        .dimension-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
        }
        
        .dimension-label {
            min-width: 100px;
            font-size: 13px;
            color: #555;
            font-weight: 500;
        }
        
        .score-bar {
            flex: 1;
            height: 12px;
            background: #f0f0f0;
            border-radius: 6px;
            margin: 0 12px;
            position: relative;
            overflow: hidden;
        }
        
        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #74b9ff, #0984e3);
            border-radius: 6px;
            transition: width 0.8s ease;
        }
        
        .score-fill.personality { background: linear-gradient(90deg, #fdcb6e, #f39c12); }
        .score-fill.implicit { background: linear-gradient(90deg, #55a3ff, #3498db); }
        .score-fill.growth { background: linear-gradient(90deg, #55efc4, #00b894); }
        .score-fill.chemistry { background: linear-gradient(90deg, #fd79a8, #e84393); }
        
        .score-value {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 11px;
            color: #fff;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        /* æ ‡ç­¾æ ·å¼æ‰©å±• */
        .surface-element-tag {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
        }
        
        .deep-connection-tag {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
        }
        
        .book-rec-tag {
            background: linear-gradient(135deg, #00b894 0%, #55efc4 100%);
        }
        
        .theme-tag {
            background: linear-gradient(135deg, #f39c12 0%, #fdcb6e 100%);
        }
        
        .culture-tag {
            background: linear-gradient(135deg, #3498db 0%, #74b9ff 100%);
        }
        
        .archetype-tag {
            background: linear-gradient(135deg, #9b59b6 0%, #bb6bd9 100%);
        }
        
        .cognitive-tag {
            background: linear-gradient(135deg, #f39c12 0%, #fdcb6e 100%);
        }
        
        .cultural-tag {
            background: linear-gradient(135deg, #00cec9 0%, #55efc4 100%);
        }
        
        .compatibility-type-tag {
            background: linear-gradient(135deg, #e84393 0%, #fd79a8 100%);
        }
        
        .chemistry-tag {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
        }
        
        .dynamics-tag {
            background: linear-gradient(135deg, #00b894 0%, #55efc4 100%);
        }
        
        .depth-tag {
            background: linear-gradient(135deg, #636e72 0%, #2d3436 100%);
        }
        
        /* æ¨èç†ç”±å’Œæˆé•¿æ½œåŠ› */
        .recommendation-list, .synergy-list, .growth-list {
            margin-top: 8px;
        }
        
        .recommendation-item, .synergy-item, .growth-item {
            font-size: 13px;
            color: #555;
            margin: 4px 0;
            padding-left: 8px;
        }
        
        .growth-potential {
            margin-top: 12px;
            padding: 8px;
            background: rgba(85, 239, 196, 0.1);
            border-radius: 6px;
            border-left: 3px solid #00b894;
            font-size: 13px;
            color: #00b894;
        }
        
        /* æ–‡åŒ–å–å‘å’Œè®¤çŸ¥é£æ ¼ */
        .vs-indicator {
            margin: 0 8px;
            font-weight: bold;
            color: #666;
        }
        
        .implicit-section {
            margin-bottom: 12px;
        }
        
        .compatibility-overview {
            margin-bottom: 15px;
        }
        
        .compatibility-type, .relationship-dynamics {
            margin-bottom: 8px;
        }
        
        .synergy-section, .growth-section {
            margin-top: 15px;
        }
        
        .ai-element-tag {
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
            box-shadow: 0 2px 8px rgba(253, 121, 168, 0.3);
        }
        
        .score-tag {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            box-shadow: 0 2px 8px rgba(116, 185, 255, 0.3);
            font-weight: 600;
        }
        
        /* åŒ¹é…ç±»å‹åˆ†ç»„ */
        .match-type-group {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .match-type-label {
            font-weight: 600;
            color: #2c3e50;
            margin-right: 8px;
            min-width: 80px;
        }
        
        /* åŒ¹é…åˆ†æ•°ç»†èŠ‚ */
        .match-breakdown {
            font-size: 12px;
            color: #666;
            font-weight: normal;
            margin-left: 10px;
        }
        
        .no-data {
            text-align: center;
            color: #999;
            padding: 40px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            border: 2px dashed #ddd;
        }
        
        /* æ·»åŠ åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .section {
            animation: fadeInUp 0.6s ease-out;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .match-details {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .match-btn {
                padding: 12px 20px;
                font-size: 16px;
                margin: 5px;
            }
        }
        
        /* è¿›åº¦æ¡åŠ¨ç”»æ•ˆæœ */
        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(200%);
            }
        }
        
        #progressContainer {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* è¿›åº¦æ¡è„‰å†²æ•ˆæœ */
        .progress-pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.02);
            }
        }
        
        /* é™çº§çŠ¶æ€åŠ¨ç”» */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        /* é™çº§çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .degradation-indicator {
            position: fixed;
            top: 60px;
            right: 20px;
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: bold;
            z-index: 9999;
            box-shadow: 0 4px 12px rgba(243, 156, 18, 0.3);
            animation: pulse 2s infinite;
        }
        
        .degradation-indicator.success {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            box-shadow: 0 4px 12px rgba(0, 184, 148, 0.3);
        }
        
        /* é™çº§åŒ¹é…ç»“æœæ ·å¼ */
        .degraded-match {
            border-left: 5px solid #f39c12;
            background: linear-gradient(135deg, #fef5e7 0%, #fdebd0 100%);
        }
        
        .degraded-tag {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            box-shadow: 0 2px 8px rgba(243, 156, 18, 0.3);
        }
        
        .traditional-degraded-tag {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            box-shadow: 0 2px 8px rgba(149, 165, 166, 0.3);
        }
        
        /* ç»Ÿä¸€ç®¡ç†å‘˜ä¸»é¢˜æ ·å¼ */
        .admin-theme {
            --admin-color: #28a745;
            --admin-bg: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        }
        
        .admin-role-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: var(--admin-bg);
            border-radius: 16px;
            border: 2px solid var(--admin-color);
            margin-bottom: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.2);
        }

        .admin-role-badge .admin-role-icon {
            font-size: 1.2rem;
        }

        .admin-role-badge .admin-role-text {
            font-weight: bold;
            color: var(--admin-color);
        }

        .admin-role-badge .admin-role-description {
            font-size: 12px;
            color: #666;
            display: block;
        }

        /* æƒé™é™åˆ¶æ ·å¼ */
        .permission-restricted-section {
            opacity: 0.6;
            position: relative;
        }

        .permission-restricted-section::after {
            content: 'ğŸ”’ æƒé™é™åˆ¶';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid #ffc107;
            color: #856404;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .permission-hint {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border: 1px solid #ffcc02;
            padding: 10px 15px;
            border-radius: 8px;
            margin: 10px 0;
            color: #e65100;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .permission-hint::before {
            content: 'ğŸ’¡';
            font-size: 16px;
        }

        /* ç³»ç»Ÿé…ç½®ç•Œé¢æ ·å¼ */
        .config-tab-link {
            padding: 12px 20px;
            cursor: pointer;
            border: none;
            background-color: transparent;
            font-size: 14px;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease-in-out;
            margin-bottom: -2px;
        }

        .config-tab-link:hover {
            background-color: rgba(255,255,255,0.1);
            color: var(--text-primary);
        }

        .config-tab-link.active {
            color: var(--text-primary);
            border-bottom-color: #667eea;
            font-weight: 600;
            background-color: rgba(102, 126, 234, 0.1);
        }

        .config-tab-content {
            display: none;
        }

        .config-tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        /* é…ç½®ç•Œé¢å¼€å…³æ ·å¼ */
        .config-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 28px;
        }

        .config-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .config-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 28px;
        }

        .config-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        .config-switch input:checked + .config-slider {
            background-color: #667eea;
        }

        .config-switch input:checked + .config-slider:before {
            transform: translateX(22px);
        }

        /* é…ç½®çŠ¶æ€æ¶ˆæ¯æ ·å¼ */
        .config-status-message {
            padding: 10px 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-size: 14px;
        }

        .config-status-message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .config-status-message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .config-status-message.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <!-- ä¸»é¢˜åˆ‡æ¢å™¨ -->
    <div id="themeToggle" style="position: fixed; top: 20px; right: 20px; z-index: 9999; background: var(--bg-secondary); border-radius: 25px; padding: 8px; box-shadow: 0 4px 15px var(--shadow-light); backdrop-filter: blur(10px); border: 1px solid var(--border-color); transition: all 0.3s ease;">
        <button id="themeToggleBtn" style="background: none; border: none; font-size: 24px; cursor: pointer; padding: 8px; border-radius: 50%; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px;" title="åˆ‡æ¢ä¸»é¢˜">
            ğŸŒ™
        </button>
    </div>

    <div class="container">
        <h1>ğŸ” æ±‚ç´¢ä¹¦ç¤¾çµé­‚å¯»å‹</h1>
        
        <div id="configSection" class="section" style="background-color: #fff3cd; border: 1px solid #ffeaa7; display: none;">
            <h2>âš™ï¸ åˆå§‹é…ç½®</h2>
            <p>é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½® GitHub Tokenï¼š</p>
            <ol>
                <li>ç™»å½•ä½ çš„ GitHub è´¦å·</li>
                <li>è®¿é—® <a href="https://github.com/settings/tokens/new" target="_blank">åˆ›å»º Token é¡µé¢</a></li>
                <li>å¡«å†™ Noteï¼ˆå¦‚ï¼šè¯»ä¹¦ç¤¾å›¢å·¥å…·ï¼‰</li>
                <li>å‹¾é€‰ <strong>gist</strong> æƒé™</li>
                <li>ç‚¹å‡»ç”Ÿæˆï¼Œå¤åˆ¶ Token</li>
            </ol>
            <div class="form-group">
                <label for="githubToken">GitHub Token</label>
                <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxx">
            </div>
            <div class="form-group">
                <label for="adminPassword">è®¾ç½®ç®¡ç†å‘˜å¯†ç </label>
                <input type="password" id="adminPassword" placeholder="è®¾ç½®ä¸€ä¸ªç®¡ç†å‘˜å¯†ç ">
                <div class="hint">ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æˆå‘˜ä¿¡æ¯å’Œè¿›è¡ŒåŒ¹é…</div>
            </div>
            <button onclick="saveConfig()">ä¿å­˜é…ç½®</button>
        </div>
        
        <div id="loginSection" class="section">
            <h2>ğŸ” ç™»å½•</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginName">å§“å</label>
                    <input type="text" id="loginName">
                </div>
                <div class="form-group">
                    <label for="loginStudentId">å­¦å·</label>
                    <input type="text" id="loginStudentId">
                </div>
                 <div class="form-group">
                    <label for="loginPassword">ç®¡ç†å‘˜å¯†ç  (å¯é€‰)</label>
                    <input type="password" id="loginPassword" placeholder="ç®¡ç†å‘˜ç™»å½•æ—¶å¡«å†™">
                    <div class="hint">
                        <span>ç®¡ç†å‘˜è´¦å·å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æˆå‘˜ä¿¡æ¯å¹¶è¿›è¡ŒåŒ¹é…</span>
                        <a href="#" id="resetPasswordLink" style="color: #667eea; text-decoration: underline; font-size: 12px; float: right;">å¿˜è®°å¯†ç ï¼Ÿ</a>
                    </div>
                </div>
                <button type="submit">ç™»å½•</button>
                <button type="button" class="secondary" onclick="window.location.href='register.html'">æ³¨å†Œæ–°è´¦å·</button>
            </form>
        </div>

        <!-- å¯†ç é‡ç½®æ¨¡æ€æ¡† -->
        <div id="passwordResetModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
            <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                <div style="text-align: center; margin-bottom: 25px;">
                    <h3 style="color: #2c3e50; margin-bottom: 10px;">ğŸ”‘ ç®¡ç†å‘˜å¯†ç é‡ç½®</h3>
                    <p style="color: #6c757d; font-size: 14px;">è¯·è¾“å…¥æ‚¨çš„GitHub Tokenè¿›è¡Œèº«ä»½éªŒè¯</p>
                </div>
                
                <div class="form-group">
                    <label for="resetToken">GitHub Token</label>
                    <input type="password" id="resetToken" placeholder="è¯·è¾“å…¥æ‚¨çš„GitHub Token">
                    <div class="hint">éœ€è¦ä¸ç³»ç»Ÿé…ç½®ä¸­çš„Tokenä¸€è‡´æ‰èƒ½é‡ç½®å¯†ç </div>
                </div>
                
                <div class="form-group">
                    <label for="newPassword">æ–°ç®¡ç†å‘˜å¯†ç </label>
                    <input type="password" id="newPassword" placeholder="è¯·è®¾ç½®æ–°çš„ç®¡ç†å‘˜å¯†ç ">
                    <div class="hint">å»ºè®®ä½¿ç”¨8ä½ä»¥ä¸ŠåŒ…å«å­—æ¯å’Œæ•°å­—çš„å¯†ç </div>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">ç¡®è®¤æ–°å¯†ç </label>
                    <input type="password" id="confirmPassword" placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ">
                </div>
                
                <div style="text-align: center; margin-top: 25px;">
                    <button onclick="resetPassword()" style="margin-right: 10px;">é‡ç½®å¯†ç </button>
                    <button class="secondary" onclick="closePasswordResetModal()">å–æ¶ˆ</button>
                </div>
            </div>
        </div>

        <div id="userProfileSection" class="section">
            <h2>ğŸ‘¤ æˆ‘çš„èµ„æ–™</h2>
            <div id="userProfileContent"></div>
            <button id="editProfileBtn">ç¼–è¾‘ä¿¡æ¯</button>
            <button id="userSettingsBtn" class="secondary">âš™ï¸ ä¸ªäººè®¾ç½®</button>
            <button type="button" class="secondary" onclick="logout()">é€€å‡ºç™»å½•</button>
        </div>

        <!-- ä¸ªæ€§åŒ–è®¾ç½®ç•Œé¢ -->
        <div id="userSettingsSection" class="section" style="display: none;">
            <h2>âš™ï¸ ä¸ªäººè®¾ç½®</h2>
            
            <!-- ä¸»é¢˜è®¾ç½® -->
            <div class="form-group">
                <label>ä¸»é¢˜åå¥½</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="themePreference" value="auto">
                        <span class="radio-custom"></span>
                        <div class="commitment-option">
                            <strong>ğŸŒ“ è‡ªåŠ¨è·Ÿéšç³»ç»Ÿ</strong>
                            <small>æ ¹æ®è®¾å¤‡ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨åˆ‡æ¢æµ…è‰²/æ·±è‰²æ¨¡å¼</small>
                        </div>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="themePreference" value="light">
                        <span class="radio-custom"></span>
                        <div class="commitment-option">
                            <strong>â˜€ï¸ æµ…è‰²æ¨¡å¼</strong>
                            <small>å§‹ç»ˆä½¿ç”¨æµ…è‰²ä¸»é¢˜ï¼Œé€‚åˆåœ¨æ˜äº®ç¯å¢ƒä¸‹ä½¿ç”¨</small>
                        </div>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="themePreference" value="dark">
                        <span class="radio-custom"></span>
                        <div class="commitment-option">
                            <strong>ğŸŒ™ æ·±è‰²æ¨¡å¼</strong>
                            <small>å§‹ç»ˆä½¿ç”¨æ·±è‰²ä¸»é¢˜ï¼Œä¿æŠ¤çœ¼ç›é€‚åˆå¤œé—´ä½¿ç”¨</small>
                        </div>
                    </label>
                </div>
            </div>

            <!-- é€šçŸ¥è®¾ç½® -->
            <div class="form-group">
                <label>é€šçŸ¥åå¥½</label>
                <div class="checkbox-group">
                    <label class="checkbox-option">
                        <input type="checkbox" name="notifications" value="match_found">
                        <span class="checkbox-custom"></span>
                        åŒ¹é…æˆåŠŸé€šçŸ¥
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="notifications" value="new_messages">
                        <span class="checkbox-custom"></span>
                        æ–°æ¶ˆæ¯é€šçŸ¥
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="notifications" value="system_updates">
                        <span class="checkbox-custom"></span>
                        ç³»ç»Ÿæ›´æ–°é€šçŸ¥
                    </label>
                </div>
            </div>

            <!-- åŒ¹é…åå¥½è®¾ç½® -->
            <div class="form-group">
                <label>åŒ¹é…é¢‘ç‡åå¥½</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="matchFrequency" value="active">
                        <span class="radio-custom"></span>
                        <div class="commitment-option">
                            <strong>ğŸ”¥ ç§¯æåŒ¹é…</strong>
                            <small>ä¼˜å…ˆåœ¨åŒ¹é…ç»“æœä¸­æ˜¾ç¤ºï¼Œå¢åŠ è¢«å…¶ä»–ç”¨æˆ·å‘ç°çš„æœºä¼š</small>
                        </div>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="matchFrequency" value="normal">
                        <span class="radio-custom"></span>
                        <div class="commitment-option">
                            <strong>ğŸ“š æ­£å¸¸é¢‘ç‡</strong>
                            <small>æŒ‰æ­£å¸¸ä¼˜å…ˆçº§å‚ä¸åŒ¹é…</small>
                        </div>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="matchFrequency" value="low">
                        <span class="radio-custom"></span>
                        <div class="commitment-option">
                            <strong>ğŸ•Šï¸ ä½é¢‘åŒ¹é…</strong>
                            <small>é™ä½åœ¨åŒ¹é…ç»“æœä¸­çš„ä¼˜å…ˆçº§ï¼Œé€‚åˆä¸å¤ªæ´»è·ƒçš„ç”¨æˆ·</small>
                        </div>
                    </label>
                </div>
            </div>

            <!-- éšç§è®¾ç½® -->
            <div class="form-group">
                <label>éšç§è®¾ç½®</label>
                <div class="checkbox-group">
                    <label class="checkbox-option">
                        <input type="checkbox" name="privacy" value="hide_profile_visitors">
                        <span class="checkbox-custom"></span>
                        éšè—è°æŸ¥çœ‹äº†æˆ‘çš„èµ„æ–™
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="privacy" value="limit_contact_info">
                        <span class="checkbox-custom"></span>
                        é™åˆ¶è”ç³»æ–¹å¼æ˜¾ç¤ºï¼ˆä»…æ˜¾ç¤ºç»™åŒ¹é…æˆåŠŸçš„ç”¨æˆ·ï¼‰
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="privacy" value="anonymous_in_stats">
                        <span class="checkbox-custom"></span>
                        åœ¨ç»Ÿè®¡æ•°æ®ä¸­åŒ¿åæ˜¾ç¤º
                    </label>
                </div>
            </div>

            <!-- æ•°æ®ç®¡ç† -->
            <div class="form-group">
                <label>æ•°æ®ç®¡ç†</label>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button type="button" class="avatar-btn secondary" onclick="exportUserData()">ğŸ“¥ å¯¼å‡ºæˆ‘çš„æ•°æ®</button>
                    <button type="button" class="avatar-btn secondary" onclick="clearLocalData()">ğŸ—‘ï¸ æ¸…é™¤æœ¬åœ°ç¼“å­˜</button>
                    <button type="button" class="avatar-btn remove" onclick="deleteUserAccount()">âš ï¸ åˆ é™¤è´¦å·</button>
                </div>
                <div class="hint">å¯¼å‡ºæ•°æ®ï¼šè·å–æ‚¨åœ¨å¹³å°ä¸Šçš„æ‰€æœ‰ä¸ªäººæ•°æ® | æ¸…é™¤ç¼“å­˜ï¼šé‡ç½®æœ¬åœ°å­˜å‚¨çš„è®¾ç½®å’Œç¼“å­˜</div>
            </div>

            <!-- ç³»ç»Ÿä¿¡æ¯ -->
            <div class="form-group">
                <label>ç³»ç»Ÿä¿¡æ¯</label>
                <div style="background: rgba(108, 117, 125, 0.1); padding: 15px; border-radius: 8px; font-size: 14px; color: #6c757d;">
                    <div><strong>ç‰ˆæœ¬:</strong> 1.2.0</div>
                    <div><strong>æœ€åç™»å½•:</strong> <span id="lastLoginTime">--</span></div>
                    <div><strong>è´¦å·åˆ›å»º:</strong> <span id="accountCreatedTime">--</span></div>
                    <div><strong>æ•°æ®åŒæ­¥çŠ¶æ€:</strong> <span id="dataSyncStatus">æ­£å¸¸</span></div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button onclick="saveUserSettings()" style="margin-right: 10px;">ğŸ’¾ ä¿å­˜è®¾ç½®</button>
                <button class="secondary" onclick="cancelUserSettings()">å–æ¶ˆ</button>
            </div>
        </div>

        <div id="memberSection" class="section" style="display: none;">
            <h2>ğŸ“ å®Œå–„æˆ‘çš„ä¿¡æ¯</h2>
            <form id="memberForm">
                <div class="form-group">
                    <label for="name">å§“å</label>
                    <input type="text" id="name" disabled>
                </div>
                <div class="form-group">
                    <label for="studentId">å­¦å·</label>
                    <input type="text" id="studentId" disabled>
                </div>
                
                <!-- é‚®ç®±éªŒè¯ -->
                <div class="form-group">
                    <label for="userEmail">é‚®ç®±åœ°å€</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="email" id="userEmail" placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€" style="flex: 1;">
                        <button type="button" class="avatar-btn" id="verifyEmailBtn" onclick="sendEmailVerification()" style="white-space: nowrap;">å‘é€éªŒè¯</button>
                    </div>
                    <div class="hint">
                        <span id="emailStatus">é‚®ç®±éªŒè¯å¯ä»¥æé«˜è´¦å·å®‰å…¨æ€§</span>
                        <span id="emailVerificationStatus" style="color: #00b894; font-weight: bold; display: none;">âœ… é‚®ç®±å·²éªŒè¯</span>
                    </div>
                </div>
                
                <!-- é‚®ç®±éªŒè¯ç è¾“å…¥ï¼ˆåˆå§‹éšè—ï¼‰ -->
                <div class="form-group" id="emailVerificationGroup" style="display: none;">
                    <label for="emailVerificationCode">é‚®ç®±éªŒè¯ç </label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" id="emailVerificationCode" placeholder="è¯·è¾“å…¥6ä½éªŒè¯ç " maxlength="6" style="flex: 1;">
                        <button type="button" class="avatar-btn secondary" onclick="verifyEmailCode()">éªŒè¯</button>
                    </div>
                    <div class="hint">
                        <span id="verificationCountdown"></span>
                        <span>éªŒè¯ç å·²å‘é€åˆ°æ‚¨çš„é‚®ç®±ï¼Œè¯·æŸ¥æ”¶</span>
                    </div>
                </div>
                
                <!-- å¤´åƒè®¾ç½® -->
                <div class="form-group">
                    <label>ä¸ªäººå¤´åƒ</label>
                    <div class="avatar-section">
                        <div class="avatar-preview-container">
                            <div class="avatar-preview" id="avatarPreview">
                                <img id="avatarImage" src="" alt="å¤´åƒé¢„è§ˆ" style="display: none;">
                                <div class="avatar-placeholder">ğŸ“·</div>
                            </div>
                            <div class="avatar-actions">
                                <button type="button" class="avatar-btn" onclick="triggerAvatarUpload()">ä¸Šä¼ å¤´åƒ</button>
                                <button type="button" class="avatar-btn secondary" onclick="showDefaultAvatars()">é€‰æ‹©é»˜è®¤</button>
                                <button type="button" class="avatar-btn remove" onclick="removeAvatar()" style="display: none;">ç§»é™¤å¤´åƒ</button>
                            </div>
                        </div>
                        <input type="file" id="avatarInput" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                        
                        <!-- é»˜è®¤å¤´åƒé€‰æ‹©å™¨ -->
                        <div class="default-avatars" id="defaultAvatars" style="display: none;">
                            <div class="avatars-grid">
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ‘¤')">ğŸ‘¤</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ‘¨')">ğŸ‘¨</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ‘©')">ğŸ‘©</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ§‘')">ğŸ§‘</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ‘¦')">ğŸ‘¦</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ‘§')">ğŸ‘§</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ“')">ğŸ“</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ“š')">ğŸ“š</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ¤“')">ğŸ¤“</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ˜Š')">ğŸ˜Š</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸŒŸ')">ğŸŒŸ</div>
                                <div class="default-avatar" onclick="selectDefaultAvatar('ğŸ­')">ğŸ­</div>
                            </div>
                        </div>
                        
                        <div class="hint">æ”¯æŒjpgã€pngæ ¼å¼ï¼Œå»ºè®®å°ºå¯¸200x200åƒç´ </div>
                    </div>
                </div>
                
                <!-- æ€§åˆ«é€‰æ‹© -->
                <div class="form-group">
                    <label>æ€§åˆ«ï¼ˆå¯é€‰ï¼‰</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="gender" value="male">
                            <span class="radio-custom"></span>
                            ç”·
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="gender" value="female">
                            <span class="radio-custom"></span>
                            å¥³
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="gender" value="other">
                            <span class="radio-custom"></span>
                            å…¶ä»–
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="gender" value="prefer_not_to_say">
                            <span class="radio-custom"></span>
                            ä¸æ„¿é€éœ²
                        </label>
                    </div>
                </div>
                
                <!-- ä¸ªäººç®€ä»‹ -->
                <div class="form-group">
                    <label for="personalBio">ä¸ªäººç®€ä»‹ï¼ˆå¯é€‰ï¼‰</label>
                    <textarea id="personalBio" placeholder="ç®€å•ä»‹ç»ä¸€ä¸‹è‡ªå·±ï¼Œæ¯”å¦‚ä½ çš„é˜…è¯»ä¹ æƒ¯ã€å–œæ¬¢çš„ä¹¦ç±é£æ ¼ç­‰..." maxlength="300"></textarea>
                    <div class="hint">
                        <span>è®©å…¶ä»–ä¹¦å‹æ›´å¥½åœ°äº†è§£ä½ </span>
                        <span class="char-count" id="personalBioCount">0/300å­—</span>
                    </div>
                </div>
                
                <!-- å…´è¶£æ ‡ç­¾ -->
                <div class="form-group">
                    <label>å…´è¶£æ ‡ç­¾</label>
                    <div class="interest-tags-section">
                        <!-- é¢„è®¾æ ‡ç­¾ -->
                        <div class="preset-tags-container">
                            <div class="preset-tags-header">
                                <span>ğŸ“Œ é¢„è®¾æ ‡ç­¾ï¼ˆç‚¹å‡»é€‰æ‹©ï¼‰</span>
                            </div>
                            <div class="preset-tags-grid" id="presetTagsGrid">
                                <!-- é˜…è¯»ç›¸å…³æ ‡ç­¾ -->
                                <div class="tag-category">
                                    <div class="category-title">ğŸ“š é˜…è¯»åå¥½</div>
                                    <div class="tags-row">
                                        <span class="preset-tag" data-tag="æ·±åº¦é˜…è¯»" onclick="togglePresetTag(this)">æ·±åº¦é˜…è¯»</span>
                                        <span class="preset-tag" data-tag="å¿«é€Ÿé˜…è¯»" onclick="togglePresetTag(this)">å¿«é€Ÿé˜…è¯»</span>
                                        <span class="preset-tag" data-tag="æœ—è¯»çˆ±å¥½è€…" onclick="togglePresetTag(this)">æœ—è¯»çˆ±å¥½è€…</span>
                                        <span class="preset-tag" data-tag="è¯»ä¹¦ç¬”è®°æ§" onclick="togglePresetTag(this)">è¯»ä¹¦ç¬”è®°æ§</span>
                                        <span class="preset-tag" data-tag="å®ä½“ä¹¦æ§" onclick="togglePresetTag(this)">å®ä½“ä¹¦æ§</span>
                                        <span class="preset-tag" data-tag="ç”µå­ä¹¦å…š" onclick="togglePresetTag(this)">ç”µå­ä¹¦å…š</span>
                                    </div>
                                </div>
                                
                                <div class="tag-category">
                                    <div class="category-title">ğŸ¨ è‰ºæœ¯æ–‡åŒ–</div>
                                    <div class="tags-row">
                                        <span class="preset-tag" data-tag="ç”µå½±çˆ±å¥½è€…" onclick="togglePresetTag(this)">ç”µå½±çˆ±å¥½è€…</span>
                                        <span class="preset-tag" data-tag="éŸ³ä¹å‘çƒ§å‹" onclick="togglePresetTag(this)">éŸ³ä¹å‘çƒ§å‹</span>
                                        <span class="preset-tag" data-tag="è‰ºæœ¯æ¬£èµ" onclick="togglePresetTag(this)">è‰ºæœ¯æ¬£èµ</span>
                                        <span class="preset-tag" data-tag="æ‘„å½±çˆ±å¥½" onclick="togglePresetTag(this)">æ‘„å½±çˆ±å¥½</span>
                                        <span class="preset-tag" data-tag="ä¼ ç»Ÿæ–‡åŒ–" onclick="togglePresetTag(this)">ä¼ ç»Ÿæ–‡åŒ–</span>
                                        <span class="preset-tag" data-tag="å½“ä»£è‰ºæœ¯" onclick="togglePresetTag(this)">å½“ä»£è‰ºæœ¯</span>
                                    </div>
                                </div>
                                
                                <div class="tag-category">
                                    <div class="category-title">ğŸŒ ç”Ÿæ´»æ–¹å¼</div>
                                    <div class="tags-row">
                                        <span class="preset-tag" data-tag="å’–å•¡æ–‡åŒ–" onclick="togglePresetTag(this)">å’–å•¡æ–‡åŒ–</span>
                                        <span class="preset-tag" data-tag="èŒ¶æ–‡åŒ–" onclick="togglePresetTag(this)">èŒ¶æ–‡åŒ–</span>
                                        <span class="preset-tag" data-tag="æ—…è¡Œæ¢ç´¢" onclick="togglePresetTag(this)">æ—…è¡Œæ¢ç´¢</span>
                                        <span class="preset-tag" data-tag="è¿åŠ¨å¥èº«" onclick="togglePresetTag(this)">è¿åŠ¨å¥èº«</span>
                                        <span class="preset-tag" data-tag="ç¾é£Ÿçƒ¹é¥ª" onclick="togglePresetTag(this)">ç¾é£Ÿçƒ¹é¥ª</span>
                                        <span class="preset-tag" data-tag="å›­è‰ºæ¤ç‰©" onclick="togglePresetTag(this)">å›­è‰ºæ¤ç‰©</span>
                                    </div>
                                </div>
                                
                                <div class="tag-category">
                                    <div class="category-title">ğŸ§  å­¦ä¹ æˆé•¿</div>
                                    <div class="tags-row">
                                        <span class="preset-tag" data-tag="ç»ˆèº«å­¦ä¹ " onclick="togglePresetTag(this)">ç»ˆèº«å­¦ä¹ </span>
                                        <span class="preset-tag" data-tag="æŠ€èƒ½æå‡" onclick="togglePresetTag(this)">æŠ€èƒ½æå‡</span>
                                        <span class="preset-tag" data-tag="è¯­è¨€å­¦ä¹ " onclick="togglePresetTag(this)">è¯­è¨€å­¦ä¹ </span>
                                        <span class="preset-tag" data-tag="æ€ç»´è®­ç»ƒ" onclick="togglePresetTag(this)">æ€ç»´è®­ç»ƒ</span>
                                        <span class="preset-tag" data-tag="æ—¶é—´ç®¡ç†" onclick="togglePresetTag(this)">æ—¶é—´ç®¡ç†</span>
                                        <span class="preset-tag" data-tag="æ•ˆç‡å·¥å…·" onclick="togglePresetTag(this)">æ•ˆç‡å·¥å…·</span>
                                    </div>
                                </div>
                                
                                <div class="tag-category">
                                    <div class="category-title">ğŸ’­ æ€§æ ¼ç‰¹è´¨</div>
                                    <div class="tags-row">
                                        <span class="preset-tag" data-tag="å†…å‘æ€è€ƒè€…" onclick="togglePresetTag(this)">å†…å‘æ€è€ƒè€…</span>
                                        <span class="preset-tag" data-tag="å¤–å‘äº¤æµè€…" onclick="togglePresetTag(this)">å¤–å‘äº¤æµè€…</span>
                                        <span class="preset-tag" data-tag="å®Œç¾ä¸»ä¹‰" onclick="togglePresetTag(this)">å®Œç¾ä¸»ä¹‰</span>
                                        <span class="preset-tag" data-tag="éšæ€§è‡ªç”±" onclick="togglePresetTag(this)">éšæ€§è‡ªç”±</span>
                                        <span class="preset-tag" data-tag="è®¡åˆ’æ§" onclick="togglePresetTag(this)">è®¡åˆ’æ§</span>
                                        <span class="preset-tag" data-tag="å¤œçŒ«å­" onclick="togglePresetTag(this)">å¤œçŒ«å­</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- è‡ªå®šä¹‰æ ‡ç­¾è¾“å…¥ -->
                        <div class="custom-tags-container">
                            <div class="custom-tag-input-group">
                                <input type="text" id="customTagInput" placeholder="è¾“å…¥è‡ªå®šä¹‰æ ‡ç­¾..." maxlength="20">
                                <button type="button" class="add-tag-btn" onclick="addCustomTag()">æ·»åŠ </button>
                            </div>
                            <div class="hint">æœ€å¤šé€‰æ‹©10ä¸ªæ ‡ç­¾ï¼Œæ¯ä¸ªæ ‡ç­¾æœ€å¤š20ä¸ªå­—ç¬¦</div>
                        </div>
                        
                        <!-- å·²é€‰æ ‡ç­¾æ˜¾ç¤º -->
                        <div class="selected-tags-container">
                            <div class="selected-tags-header">
                                <span>âœ¨ å·²é€‰æ‹©çš„æ ‡ç­¾</span>
                                <span class="tags-count" id="tagsCount">(0/10)</span>
                            </div>
                            <div class="selected-tags" id="selectedTags">
                                <div class="no-tags-message">æš‚æ— æ ‡ç­¾ï¼Œç‚¹å‡»ä¸Šæ–¹é¢„è®¾æ ‡ç­¾æˆ–æ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- åŒ¹é…å¯¹è±¡æ€§åˆ«åå¥½ -->
                <div class="form-group">
                    <label>å¸Œæœ›åŒ¹é…çš„å¯¹è±¡æ€§åˆ«ï¼ˆå¯é€‰ï¼‰</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="matchGenderPreference" value="male">
                            <span class="radio-custom"></span>
                            ç”·ç”Ÿ
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="matchGenderPreference" value="female">
                            <span class="radio-custom"></span>
                            å¥³ç”Ÿ
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="matchGenderPreference" value="no_preference">
                            <span class="radio-custom"></span>
                            ä¸ä»‹æ„
                        </label>
                    </div>
                    <div class="hint">é€‰æ‹©æ‚¨å¸Œæœ›åŒ¹é…çš„è¯»ä¹¦ä¼™ä¼´æ€§åˆ«åå¥½</div>
                </div>

                <!-- åŒ¹é…ç±»å‹åå¥½ -->
                <div class="form-group">
                    <label>åŒ¹é…ç±»å‹åå¥½ï¼ˆå¯é€‰ï¼‰</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="matchingTypePreference" value="similar">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ğŸ¯ ç›¸ä¼¼å‹æ­æ¡£</strong>
                                <small>å¯»æ‰¾å…´è¶£ç›¸è¿‘ã€é˜…è¯»å“å‘³ç›¸ä¼¼çš„ä¼™ä¼´</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="matchingTypePreference" value="complementary">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ğŸŒˆ äº’è¡¥å‹æ­æ¡£</strong>
                                <small>å¯»æ‰¾ä¸åŒèƒŒæ™¯ã€å¯ä»¥äº’ç›¸å­¦ä¹ çš„ä¼™ä¼´</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="matchingTypePreference" value="no_preference">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>âœ¨ éƒ½å¯ä»¥</strong>
                                <small>å¯¹åŒ¹é…ç±»å‹æ²¡æœ‰ç‰¹æ®Šåå¥½</small>
                            </div>
                        </label>
                    </div>
                    <div class="hint">é€‰æ‹©æ‚¨å€¾å‘çš„åŒ¹é…ç±»å‹ï¼ŒAIä¼šæ®æ­¤ä¸ºæ‚¨æ¨èæ›´åˆé€‚çš„è¯»ä¹¦ä¼™ä¼´</div>
                </div>

                <!-- ç”¨æˆ·çŠ¶æ€è®¾ç½® -->
                <div class="form-group">
                    <label>å½“å‰çŠ¶æ€</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="userStatus" value="active">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ğŸŸ¢ å¯åŒ¹é…</strong>
                                <small>æ­£åœ¨å¯»æ‰¾è¯»ä¹¦ä¼™ä¼´ï¼Œæ„¿æ„å‚ä¸åŒ¹é…</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="userStatus" value="busy">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ğŸŸ¡ å¿™ç¢Œä¸­</strong>
                                <small>æš‚æ—¶æ²¡æœ‰æ—¶é—´è¿›è¡Œæ–°çš„åŒ¹é…æ´»åŠ¨</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="userStatus" value="away">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ğŸ”´ æš‚ä¸åŒ¹é…</strong>
                                <small>ç›®å‰ä¸å‚ä¸ä»»ä½•åŒ¹é…æ´»åŠ¨</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="userStatus" value="reading">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ğŸ“– ä¸“å¿ƒé˜…è¯»</strong>
                                <small>æ­£åœ¨è¿›è¡Œæ·±åº¦é˜…è¯»ï¼Œæš‚ä¸æ¥å—æ–°çš„åŒ¹é…</small>
                            </div>
                        </label>
                    </div>
                    <div class="hint">è®¾ç½®æ‚¨å½“å‰çš„çŠ¶æ€ï¼Œè¿™å°†å½±å“å…¶ä»–ç”¨æˆ·èƒ½å¦çœ‹åˆ°æ‚¨çš„åŒ¹é…ä¿¡æ¯</div>
                </div>

                <!-- ä¹¦ç›®ç±»å‹ï¼ˆå¤šé€‰ï¼‰ -->
                <div class="form-group">
                    <label>é¢„è®¡åŒ¹é…ä¹¦ç›®ç±»å‹ <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="literature_fiction">
                            <span class="checkbox-custom"></span>
                            æ–‡å­¦ç»å…¸/å½“ä»£å°è¯´
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="mystery_detective">
                            <span class="checkbox-custom"></span>
                            æ‚¬ç–‘ä¾¦æ¢/æ¨ç†
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="sci_fi_fantasy">
                            <span class="checkbox-custom"></span>
                            ç§‘å¹»å¥‡å¹»
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="history_biography">
                            <span class="checkbox-custom"></span>
                            å†å²ä¼ è®°/è®°å®
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="social_science_philosophy">
                            <span class="checkbox-custom"></span>
                            ç¤¾ç§‘æ€æƒ³/å“²å­¦
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="psychology_self_help">
                            <span class="checkbox-custom"></span>
                            å¿ƒç†æˆé•¿/è‡ªåŠ©
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="bookCategories" value="art_design_lifestyle">
                            <span class="checkbox-custom"></span>
                            è‰ºæœ¯è®¾è®¡/ç”Ÿæ´»æ–¹å¼
                        </label>
                    </div>
                    <div class="hint">è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç±»å‹</div>
                </div>

                <div class="form-group">
                    <label for="hobbies">å…´è¶£çˆ±å¥½</label>
                    <textarea id="hobbies" placeholder="å¦‚ï¼šæ–‡å­¦ï¼Œå†å²ï¼Œå¿ƒç†å­¦ï¼Œæ—…è¡Œ"></textarea>
                    <div class="hint">å¤šä¸ªçˆ±å¥½ç”¨é€—å·åˆ†éš”ï¼ˆä¸­è‹±æ–‡é€—å·å‡å¯ï¼‰</div>
                </div>

                <div class="form-group">
                    <label for="books">è¯»è¿‡çš„ä¹¦</label>
                    <textarea id="books" placeholder="å¦‚ï¼šç™¾å¹´å­¤ç‹¬ï¼Œäººç±»ç®€å²ï¼Œå°ç‹å­"></textarea>
                    <div class="hint">å¤šæœ¬ä¹¦ç”¨é€—å·åˆ†éš”ï¼ˆä¸­è‹±æ–‡é€—å·å‡å¯ï¼‰</div>
                </div>

                <!-- ç»†åˆ†ä¹¦ç±»åå¥½ -->
                <div class="form-group">
                    <label for="detailedPreferences">ç»†åˆ†ä¹¦ç±»åå¥½ï¼ˆå¯é€‰ï¼‰</label>
                    <textarea id="detailedPreferences" placeholder="å¦‚ï¼šçˆ±æƒ…å°è¯´ã€ç°å®ä¸»ä¹‰ã€è’è¯ä¸»ä¹‰ã€æµªæ¼«ä¸»ä¹‰ã€ä½™åã€åŠ ç¼ªã€é›¨æœ..." maxlength="500"></textarea>
                    <div class="hint">
                        <span>å¯å†™ä¸Šè‡ªå·±æ›´åå¥½çš„ç±»ç›®ã€ä½œå®¶ç­‰</span>
                        <span class="char-count" id="detailedPreferencesCount">0/500å­—</span>
                    </div>
                </div>

                <!-- æœ€å–œæ¬¢çš„ä¹¦ -->
                <div class="form-group">
                    <label>æœ€å–œæ¬¢çš„ä¹¦ <span class="required">*</span></label>
                    <div id="favoriteBooks">
                        <div class="book-input-group">
                            <input type="text" placeholder="è¯·è¾“å…¥ä¹¦å" maxlength="100">
                            <button type="button" class="remove-book" onclick="removeFavoriteBook(this)" style="display: none;">åˆ é™¤</button>
                        </div>
                        <div class="book-input-group">
                            <input type="text" placeholder="è¯·è¾“å…¥ä¹¦å" maxlength="100">
                            <button type="button" class="remove-book" onclick="removeFavoriteBook(this)" style="display: none;">åˆ é™¤</button>
                        </div>
                    </div>
                    <button type="button" class="secondary" onclick="addFavoriteBook()">+ æ·»åŠ ä¹¦ç±</button>
                    <div class="hint">å»ºè®®å¡«å†™2æœ¬åŠä»¥ä¸Šï¼Œæœ€å¤š10æœ¬</div>
                </div>

                <!-- å…±è¯»é¢„æœŸ -->
                <div class="form-group">
                    <label>å…±è¯»é¢„æœŸ <span class="required">*</span></label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="readingCommitment" value="light">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>çŸ­ç¯‡è½»é‡</strong>
                                <small>5w-10wå­—ï¼Œå¦‚ã€Šå°ç‹å­ã€‹ã€Šå±€å¤–äººã€‹ï¼Œä¸€ä¸ªå‘¨æœ«æˆ–å‡ ä¸ªæ™šä¸Šè¯»å®Œ</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="readingCommitment" value="medium">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>ä¸­ç¯‡é€‚ä¸­</strong>
                                <small>10w-25wå­—ï¼Œå¦‚ã€Šè§£å¿§æ‚è´§é“ºã€‹ã€ŠæŒªå¨çš„æ£®æ—ã€‹ï¼Œæ¯å‘¨3-5å°æ—¶ï¼Œçº¦1-2å‘¨å®Œæˆ</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="readingCommitment" value="intensive">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>é•¿ç¯‡æŠ•å…¥</strong>
                                <small>25w-50wå­—ï¼Œå¦‚ã€Šç™¾å¹´å­¤ç‹¬ã€‹ã€Šä¸‰ä½“ä¸‰éƒ¨æ›²ã€‹å•å†Œ</small>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="readingCommitment" value="epic">
                            <span class="radio-custom"></span>
                            <div class="commitment-option">
                                <strong>å²è¯—å·¨è‘—</strong>
                                <small>50w+å­—ï¼Œå¦‚ã€Šæˆ˜äº‰ä¸å’Œå¹³ã€‹ã€Šè¿½å¿†ä¼¼æ°´å¹´åã€‹ã€Šå…‹é‡Œæ–¯æœµå¤«ã€‹</small>
                            </div>
                        </label>
                    </div>
                </div>

                <button type="submit">æ›´æ–°æˆ‘çš„ä¿¡æ¯</button>
                <button type="button" class="secondary" id="cancelEditBtn">å–æ¶ˆ</button>
            </form>
        </div>
        
        <div id="adminSection" style="display: none;">
            <div class="section">
                <h2>ç®¡ç†å‘˜é¢æ¿</h2>
                <div id="adminRoleIndicator" class="admin-role-badge" style="display: none;">
                    <!-- å†…å®¹ç”± app.js åŠ¨æ€å¡«å…… -->
                </div>
                <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button class="secondary" onclick="loadMembersFromGist()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
                    <button id="apiStatusBtn" class="secondary" onclick="showApiHealthStatus()">ğŸ“Š APIçŠ¶æ€</button>
                    <button id="resetApiBtn" class="secondary" onclick="resetApiHealth()">ğŸ”§ é‡ç½®API</button>
                    <button id="systemConfigBtn" class="secondary" onclick="openSystemConfig()" style="display: none;">âš™ï¸ ç³»ç»Ÿé…ç½®</button>
                    <button class="secondary" onclick="adminLogout()">ğŸ“¤ é€€å‡ºç™»å½•</button>
                </div>
            </div>
            
            <!-- å®æ—¶ç›‘æ§ä»ªè¡¨æ¿ -->
            <div class="section" id="monitoringPanel">
                <div class="permission-restricted" style="margin-bottom: 15px; padding: 10px; background: #fff3cd; border: 1px solid #ffeeba; border-radius: 8px; color: #856404; display: none;">
                    âš ï¸ æ‚¨æ²¡æœ‰è®¿é—®æ­¤åŠŸèƒ½çš„æƒé™ã€‚
                </div>
                <h2>ğŸ” ç³»ç»Ÿå®æ—¶ç›‘æ§</h2>
                <div class="monitoring-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div class="metric-card" style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 15px; border-radius: 12px; text-align: center;">
                        <h4 style="margin: 0 0 8px 0; color: #2e7d32;">APIçŠ¶æ€</h4>
                        <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <span id="apiStatus" class="status-indicator" style="font-size: 18px; color: #28a745;">â—</span>
                            <span id="apiStatusText" style="font-weight: bold; color: #2e7d32;">æ­£å¸¸</span>
                        </div>
                    </div>
                    
                    <div class="metric-card" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); padding: 15px; border-radius: 12px; text-align: center;">
                        <h4 style="margin: 0 0 8px 0; color: #ef6c00;">æ•´ä½“é”™è¯¯ç‡</h4>
                        <span id="errorRate" style="font-size: 20px; font-weight: bold; color: #ef6c00;">0%</span>
                    </div>
                    
                    <div class="metric-card" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 15px; border-radius: 12px; text-align: center;">
                        <h4 style="margin: 0 0 8px 0; color: #1976d2;">ç¼“å­˜å‘½ä¸­ç‡</h4>
                        <span id="cacheHitRate" style="font-size: 20px; font-weight: bold; color: #1976d2;">--</span>
                    </div>
                    
                    <div class="metric-card" style="background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%); padding: 15px; border-radius: 12px; text-align: center;">
                        <h4 style="margin: 0 0 8px 0; color: #c2185b;">ç³»ç»Ÿå¥åº·</h4>
                        <span id="systemHealth" style="font-size: 20px; font-weight: bold; color: #c2185b;">è‰¯å¥½</span>
                    </div>
                </div>
                
                <!-- è¯¦ç»†ç›‘æ§ä¿¡æ¯ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="monitoring-detail" style="background: rgba(255, 255, 255, 0.8); padding: 15px; border-radius: 8px; border: 1px solid #e0e0e0;">
                        <h5 style="margin: 0 0 10px 0; color: #424242;">é”™è¯¯ç»Ÿè®¡</h5>
                        <div id="errorStats" style="font-size: 13px; color: #666;">
                            <div>æ€»é”™è¯¯: <span id="totalErrors">0</span></div>
                            <div>æœ€è¿‘1å°æ—¶: <span id="hourlyErrors">0</span></div>
                            <div>æœ€è¿‘5åˆ†é’Ÿ: <span id="recentErrors">0</span></div>
                        </div>
                    </div>
                    
                    <div class="monitoring-detail" style="background: rgba(255, 255, 255, 0.8); padding: 15px; border-radius: 8px; border: 1px solid #e0e0e0;">
                        <h5 style="margin: 0 0 10px 0; color: #424242;">æ€§èƒ½æŒ‡æ ‡</h5>
                        <div id="performanceStats" style="font-size: 13px; color: #666;">
                            <div>æ€»è¯·æ±‚: <span id="totalRequests">0</span></div>
                            <div>æˆåŠŸç‡: <span id="successRate">100%</span></div>
                            <div>å¹³å‡å“åº”: <span id="avgResponseTime">--</span></div>
                        </div>
                    </div>
                </div>
                
                <!-- ç›‘æ§æ“ä½œæŒ‰é’® -->
                <div style="margin-top: 15px; text-align: center;">
                    <button class="secondary" onclick="refreshMonitoringData()" style="margin-right: 10px;">ğŸ”„ åˆ·æ–°ç›‘æ§</button>
                    <button class="secondary" onclick="showDetailedHealthReport()" style="margin-right: 10px;">ğŸ“‹ è¯¦ç»†æŠ¥å‘Š</button>
                    <button class="secondary" onclick="resetMonitoringData()">ğŸ—‘ï¸ é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="section">
                <h2>å¾…å®¡æ ¸åˆ—è¡¨</h2>
                <div id="pendingList" class="member-list">
                    <div class="no-data">æ²¡æœ‰å¾…å®¡æ ¸çš„ç”¨æˆ·</div>
                </div>
            </div>

            <div class="section">
                <h2>å·²æ‰¹å‡†æˆå‘˜åˆ—è¡¨ <span id="memberCount" style="color: #666; font-size: 14px;"></span></h2>
                <div id="memberList" class="member-list">
                    <div class="no-data">æ­£åœ¨åŠ è½½æˆå‘˜æ•°æ®...</div>
                </div>
            </div>
            
            <!-- å®¡è®¡æ—¥å¿—é¢æ¿ -->
            <div class="section" id="auditLogPanel">
                <h2>ğŸ“‹ æ“ä½œå®¡è®¡æ—¥å¿—</h2>
                <div class="permission-hint" id="auditLogPermissionHint" style="display: none;">
                    ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹ç›¸å…³çš„æ“ä½œè®°å½•ã€‚
                </div>
                
                <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; align-items: center;">
                    <select id="auditLogFilter" style="padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                        <option value="all">æ‰€æœ‰æ“ä½œ</option>
                        <option value="admin_login">ç®¡ç†å‘˜ç™»å½•</option>
                        <option value="admin_logout">ç®¡ç†å‘˜é€€å‡º</option>
                        <option value="approve_member">æ‰¹å‡†æˆå‘˜</option>
                        <option value="delete_member">åˆ é™¤æˆå‘˜</option>
                        <option value="edit_member">ç¼–è¾‘æˆå‘˜</option>
                        <option value="ai_toggle">AIåŠŸèƒ½åˆ‡æ¢</option>
                        <option value="data_refresh">æ•°æ®åˆ·æ–°</option>
                        <option value="api_reset">APIé‡ç½®</option>
                    </select>
                    
                    <input type="date" id="auditLogDateFilter" style="padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);" title="æŒ‰æ—¥æœŸç­›é€‰">
                    
                    <button class="secondary" onclick="refreshAuditLogs()">ğŸ”„ åˆ·æ–°</button>
                    <button class="secondary" onclick="exportAuditLogs()" style="display: none;" id="exportAuditBtn">ğŸ“¤ å¯¼å‡º</button>
                </div>
                
                <div id="auditLogList" style="max-height: 400px; overflow-y: auto; border: 1px solid var(--border-color); border-radius: 8px; background: var(--input-bg);">
                    <div class="no-data" style="padding: 20px; text-align: center; color: var(--text-muted);">
                        æ­£åœ¨åŠ è½½å®¡è®¡æ—¥å¿—...
                    </div>
                </div>
                
                <div style="margin-top: 10px; font-size: 12px; color: var(--text-muted); text-align: center;">
                    æ˜¾ç¤ºæœ€è¿‘1000æ¡è®°å½• â€¢ æ—¥å¿—è‡ªåŠ¨ä¿å­˜åˆ°GitHub Gist
                </div>
            </div>
            
            <div class="match-section">
                <div id="aiToggleBtnContainer" style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 20px;">
                    <button id="aiToggleBtn" class="match-btn" onclick="toggleAiAnalysis()" style="background: linear-gradient(135deg, #00b894 0%, #00a085 100%);">
                        ğŸ¤– AIåˆ†æï¼šå¼€å¯
                    </button>
                </div>
                <button class="match-btn" onclick="findSimilarMatches()">ğŸ¤ å¯»æ‰¾ç›¸ä¼¼æ­æ¡£</button>
                <button class="match-btn" onclick="findComplementaryMatches()">ğŸŒˆ å¯»æ‰¾äº’è¡¥æ­æ¡£</button>
                <div id="loadingIndicator" style="display: none; margin-top: 15px; color: #007bff; font-weight: bold;">
                    ğŸ§  æ­£åœ¨è¿›è¡ŒAIæ™ºèƒ½åˆ†æï¼Œè¯·ç¨å€™...
                </div>
                
                <!-- è¿›åº¦æ¡å®¹å™¨ -->
                <div id="progressContainer" style="display: none; margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e9ecef;">
                    <div id="progressText" style="margin-bottom: 10px; font-size: 14px; color: #495057; text-align: center;">
                        å‡†å¤‡å¼€å§‹åŒ¹é…åˆ†æ...
                    </div>
                    
                    <div style="position: relative; width: 100%; height: 20px; background: #e9ecef; border-radius: 10px; overflow: hidden; margin-bottom: 10px;">
                        <div id="progressBar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #007bff 0%, #0056b3 100%); border-radius: 10px; transition: width 0.3s ease-in-out; position: relative;">
                            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(90deg, rgba(255,255,255,0.2) 0%, transparent 50%, rgba(255,255,255,0.2) 100%); animation: shimmer 2s infinite;"></div>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: #6c757d;">
                        <span id="progressPercentage">0%</span>
                        <span id="progressDetails">ç­‰å¾…å¼€å§‹...</span>
                        <span id="estimatedTime">é¢„ä¼°æ—¶é—´: --</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="matchResults" class="match-results"></div>
    </div>
    
    <script>
        // æœ€çˆ±ä¹¦ç±åŠ¨æ€è¾“å…¥åŠŸèƒ½
        function addFavoriteBook() {
            const container = document.getElementById('favoriteBooks');
            const bookInputs = container.querySelectorAll('.book-input-group');
            
            if (bookInputs.length >= 10) {
                alert('æœ€å¤šåªèƒ½æ·»åŠ 10æœ¬ä¹¦ç±');
                return;
            }
            
            const newGroup = document.createElement('div');
            newGroup.className = 'book-input-group';
            newGroup.innerHTML = `
                <input type="text" placeholder="è¯·è¾“å…¥ä¹¦å" maxlength="100">
                <button type="button" class="remove-book" onclick="removeFavoriteBook(this)">åˆ é™¤</button>
            `;
            
            container.appendChild(newGroup);
            updateBookInputsVisibility();
        }
        
        function removeFavoriteBook(button) {
            const container = document.getElementById('favoriteBooks');
            const bookInputs = container.querySelectorAll('.book-input-group');
            
            if (bookInputs.length <= 2) {
                alert('è‡³å°‘éœ€è¦ä¿ç•™2ä¸ªè¾“å…¥æ¡†');
                return;
            }
            
            button.parentElement.remove();
            updateBookInputsVisibility();
        }
        
        function updateBookInputsVisibility() {
            const container = document.getElementById('favoriteBooks');
            const bookInputs = container.querySelectorAll('.book-input-group');
            
            bookInputs.forEach((group, index) => {
                const removeBtn = group.querySelector('.remove-book');
                if (bookInputs.length <= 2) {
                    removeBtn.style.display = 'none';
                } else {
                    removeBtn.style.display = 'block';
                }
            });
        }
        
        // å­—ç¬¦è®¡æ•°å™¨åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const detailedPreferences = document.getElementById('detailedPreferences');
            const charCount = document.getElementById('detailedPreferencesCount');
            
            if (detailedPreferences && charCount) {
                detailedPreferences.addEventListener('input', function() {
                    const length = this.value.length;
                    charCount.textContent = `${length}/500å­—`;
                    
                    if (length > 450) {
                        charCount.classList.add('warning');
                    } else {
                        charCount.classList.remove('warning');
                    }
                });
            }
            
            // ä¸ªäººç®€ä»‹å­—ç¬¦è®¡æ•°å™¨
            const personalBio = document.getElementById('personalBio');
            const bioCharCount = document.getElementById('personalBioCount');
            
            if (personalBio && bioCharCount) {
                personalBio.addEventListener('input', function() {
                    const length = this.value.length;
                    bioCharCount.textContent = `${length}/300å­—`;
                    
                    if (length > 270) {
                        bioCharCount.classList.add('warning');
                    } else {
                        bioCharCount.classList.remove('warning');
                    }
                });
            }
            
            // è‡ªå®šä¹‰æ ‡ç­¾è¾“å…¥å›è½¦é”®æ”¯æŒ
            const customTagInput = document.getElementById('customTagInput');
            if (customTagInput) {
                customTagInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        addCustomTag();
                    }
                });
            }
            
            // åˆå§‹åŒ–ä¹¦ç±è¾“å…¥æ¡†æ˜¾ç¤ºçŠ¶æ€
            updateBookInputsVisibility();
            
            // åŠ è½½ä¿å­˜çš„å¤´åƒ
            loadSavedAvatar();
            
            // åŠ è½½ä¿å­˜çš„æ ‡ç­¾
            loadSavedTags();
        });
        
        // æ ‡ç­¾ç®¡ç†
        let selectedTags = [];
        const maxTags = 10;
        
        function togglePresetTag(element) {
            const tagText = element.dataset.tag;
            const isSelected = element.classList.contains('selected');
            
            if (isSelected) {
                // å–æ¶ˆé€‰æ‹©
                element.classList.remove('selected');
                removeTagFromSelected(tagText);
            } else {
                // é€‰æ‹©æ ‡ç­¾
                if (selectedTags.length >= maxTags) {
                    alert(`æœ€å¤šåªèƒ½é€‰æ‹©${maxTags}ä¸ªæ ‡ç­¾`);
                    return;
                }
                element.classList.add('selected');
                addTagToSelected(tagText);
            }
            
            updateSelectedTagsDisplay();
        }
        
        function addCustomTag() {
            const input = document.getElementById('customTagInput');
            const tagText = input.value.trim();
            
            if (!tagText) {
                alert('è¯·è¾“å…¥æ ‡ç­¾å†…å®¹');
                return;
            }
            
            if (tagText.length > 20) {
                alert('æ ‡ç­¾æœ€å¤š20ä¸ªå­—ç¬¦');
                return;
            }
            
            if (selectedTags.includes(tagText)) {
                alert('æ ‡ç­¾å·²å­˜åœ¨');
                return;
            }
            
            if (selectedTags.length >= maxTags) {
                alert(`æœ€å¤šåªèƒ½é€‰æ‹©${maxTags}ä¸ªæ ‡ç­¾`);
                return;
            }
            
            addTagToSelected(tagText);
            updateSelectedTagsDisplay();
            input.value = '';
        }
        
        function addTagToSelected(tagText) {
            if (!selectedTags.includes(tagText)) {
                selectedTags.push(tagText);
                saveTagsToStorage();
            }
        }
        
        function removeTagFromSelected(tagText) {
            const index = selectedTags.indexOf(tagText);
            if (index > -1) {
                selectedTags.splice(index, 1);
                saveTagsToStorage();
            }
        }
        
        function removeSelectedTag(tagText) {
            removeTagFromSelected(tagText);
            
            // å–æ¶ˆé¢„è®¾æ ‡ç­¾çš„é€‰ä¸­çŠ¶æ€
            const presetTag = document.querySelector(`[data-tag="${tagText}"]`);
            if (presetTag) {
                presetTag.classList.remove('selected');
            }
            
            updateSelectedTagsDisplay();
        }
        
        function updateSelectedTagsDisplay() {
            const selectedTagsContainer = document.getElementById('selectedTags');
            const tagsCount = document.getElementById('tagsCount');
            
            tagsCount.textContent = `(${selectedTags.length}/${maxTags})`;
            
            if (selectedTags.length === 0) {
                selectedTagsContainer.innerHTML = '<div class="no-tags-message">æš‚æ— æ ‡ç­¾ï¼Œç‚¹å‡»ä¸Šæ–¹é¢„è®¾æ ‡ç­¾æˆ–æ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾</div>';
                return;
            }
            
            selectedTagsContainer.innerHTML = selectedTags.map(tag => `
                <div class="selected-tag">
                    <span>${tag}</span>
                    <button class="tag-remove" onclick="removeSelectedTag('${tag}')">Ã—</button>
                </div>
            `).join('');
            
            // æ›´æ–°æ·»åŠ æŒ‰é’®çŠ¶æ€
            const addBtn = document.querySelector('.add-tag-btn');
            if (addBtn) {
                addBtn.disabled = selectedTags.length >= maxTags;
            }
        }
        
        function saveTagsToStorage() {
            localStorage.setItem('userInterestTags', JSON.stringify(selectedTags));
        }
        
        function loadSavedTags() {
            // å…ˆå°è¯•ä»ç”¨æˆ·æ•°æ®ä¸­è·å–æ ‡ç­¾
            let tagsToLoad = null;
            if (typeof currentUser !== 'undefined' && currentUser && currentUser.interestTags) {
                tagsToLoad = currentUser.interestTags;
            } else {
                // å›é€€åˆ°localStorage
                const savedTags = localStorage.getItem('userInterestTags');
                if (savedTags) {
                    try {
                        tagsToLoad = JSON.parse(savedTags);
                    } catch (e) {
                        console.warn('æ ‡ç­¾æ•°æ®æ ¼å¼é”™è¯¯ï¼Œå·²æ¸…é™¤');
                        localStorage.removeItem('userInterestTags');
                    }
                }
            }
            
            if (tagsToLoad && Array.isArray(tagsToLoad)) {
                selectedTags = [...tagsToLoad];
                
                // æ›´æ–°é¢„è®¾æ ‡ç­¾çš„é€‰ä¸­çŠ¶æ€
                selectedTags.forEach(tagText => {
                    const presetTag = document.querySelector(`[data-tag="${tagText}"]`);
                    if (presetTag) {
                        presetTag.classList.add('selected');
                    }
                });
                
                updateSelectedTagsDisplay();
                
                // åŒæ­¥åˆ°localStorageä»¥ç¡®ä¿ä¸€è‡´æ€§
                saveTagsToStorage();
            } else {
                selectedTags = [];
            }
        }
        
        function getSelectedTagsHTML() {
            if (selectedTags.length === 0) return '';
            
            return `
                <div class="profile-tags">
                    ${selectedTags.map(tag => `<span class="profile-tag">${tag}</span>`).join('')}
                </div>
            `;
        }
        
        // å¤´åƒåŠŸèƒ½
        function triggerAvatarUpload() {
            document.getElementById('avatarInput').click();
        }
        
        function handleAvatarUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // éªŒè¯æ–‡ä»¶ç±»å‹
            if (!file.type.match(/^image\/(jpeg|jpg|png)$/)) {
                alert('è¯·é€‰æ‹©JPGæˆ–PNGæ ¼å¼çš„å›¾ç‰‡');
                return;
            }
            
            // éªŒè¯æ–‡ä»¶å¤§å° (2MB)
            if (file.size > 2 * 1024 * 1024) {
                alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡2MB');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                compressAndDisplayAvatar(e.target.result);
            };
            reader.readAsDataURL(file);
        }
        
        function compressAndDisplayAvatar(imageSrc) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            
            img.onload = function() {
                // è®¾ç½®ç”»å¸ƒå°ºå¯¸ä¸º200x200
                const size = 200;
                canvas.width = size;
                canvas.height = size;
                
                // è®¡ç®—è£å‰ªå‚æ•°ï¼ˆä¿æŒæ¯”ä¾‹ï¼Œå±…ä¸­è£å‰ªï¼‰
                const minDimension = Math.min(img.width, img.height);
                const sourceX = (img.width - minDimension) / 2;
                const sourceY = (img.height - minDimension) / 2;
                
                // ç»˜åˆ¶è£å‰ªåçš„å›¾ç‰‡
                ctx.drawImage(img, sourceX, sourceY, minDimension, minDimension, 0, 0, size, size);
                
                // è½¬æ¢ä¸ºbase64å¹¶æ˜¾ç¤º
                const compressedImage = canvas.toDataURL('image/jpeg', 0.8);
                displayAvatar(compressedImage, 'uploaded');
                
                // éšè—é»˜è®¤å¤´åƒé€‰æ‹©å™¨
                document.getElementById('defaultAvatars').style.display = 'none';
            };
            
            img.src = imageSrc;
        }
        
        function showDefaultAvatars() {
            const defaultAvatars = document.getElementById('defaultAvatars');
            if (defaultAvatars.style.display === 'none' || !defaultAvatars.style.display) {
                defaultAvatars.style.display = 'block';
            } else {
                defaultAvatars.style.display = 'none';
            }
        }
        
        function selectDefaultAvatar(emoji) {
            // æ¸…é™¤ä¹‹å‰çš„é€‰æ‹©
            document.querySelectorAll('.default-avatar').forEach(avatar => {
                avatar.classList.remove('selected');
            });
            
            // é€‰ä¸­å½“å‰å¤´åƒ
            event.target.classList.add('selected');
            
            displayAvatar(emoji, 'emoji');
            
            // éšè—é€‰æ‹©å™¨
            setTimeout(() => {
                document.getElementById('defaultAvatars').style.display = 'none';
            }, 500);
        }
        
        function displayAvatar(avatarData, type) {
            const avatarImage = document.getElementById('avatarImage');
            const avatarPlaceholder = document.querySelector('.avatar-placeholder');
            const removeButton = document.querySelector('.avatar-btn.remove');
            
            if (type === 'uploaded') {
                avatarImage.src = avatarData;
                avatarImage.style.display = 'block';
                avatarPlaceholder.style.display = 'none';
                removeButton.style.display = 'inline-block';
                
                // å­˜å‚¨å¤´åƒæ•°æ®
                localStorage.setItem('userAvatar', JSON.stringify({
                    type: 'uploaded',
                    data: avatarData
                }));
            } else if (type === 'emoji') {
                avatarImage.style.display = 'none';
                avatarPlaceholder.textContent = avatarData;
                avatarPlaceholder.style.display = 'block';
                removeButton.style.display = 'inline-block';
                
                // å­˜å‚¨å¤´åƒæ•°æ®
                localStorage.setItem('userAvatar', JSON.stringify({
                    type: 'emoji',
                    data: avatarData
                }));
            }
        }
        
        function removeAvatar() {
            const avatarImage = document.getElementById('avatarImage');
            const avatarPlaceholder = document.querySelector('.avatar-placeholder');
            const removeButton = document.querySelector('.avatar-btn.remove');
            const avatarInput = document.getElementById('avatarInput');
            
            // é‡ç½®æ˜¾ç¤º
            avatarImage.style.display = 'none';
            avatarImage.src = '';
            avatarPlaceholder.textContent = 'ğŸ“·';
            avatarPlaceholder.style.display = 'block';
            removeButton.style.display = 'none';
            avatarInput.value = '';
            
            // æ¸…é™¤å­˜å‚¨çš„å¤´åƒæ•°æ®
            localStorage.removeItem('userAvatar');
            
            // æ¸…é™¤é»˜è®¤å¤´åƒé€‰æ‹©
            document.querySelectorAll('.default-avatar').forEach(avatar => {
                avatar.classList.remove('selected');
            });
        }
        
        function loadSavedAvatar() {
            const savedAvatar = localStorage.getItem('userAvatar');
            if (savedAvatar) {
                try {
                    const avatarData = JSON.parse(savedAvatar);
                    displayAvatar(avatarData.data, avatarData.type);
                } catch (e) {
                    console.warn('å¤´åƒæ•°æ®æ ¼å¼é”™è¯¯ï¼Œå·²æ¸…é™¤');
                    localStorage.removeItem('userAvatar');
                }
            }
        }
        
        function getProfileAvatarHTML(avatarData) {
            if (!avatarData) {
                return '<div class="profile-avatar">ğŸ‘¤</div>';
            }
            
            try {
                const avatar = JSON.parse(avatarData);
                if (avatar.type === 'uploaded') {
                    return `<img class="profile-avatar" src="${avatar.data}" alt="ç”¨æˆ·å¤´åƒ">`;
                } else if (avatar.type === 'emoji') {
                    return `<div class="profile-avatar">${avatar.data}</div>`;
                }
            } catch (e) {
                return '<div class="profile-avatar">ğŸ‘¤</div>';
            }
            
            return '<div class="profile-avatar">ğŸ‘¤</div>';
        }
    </script>
    
    <!-- ç¼–è¾‘ç”¨æˆ·èµ„æ–™æ¨¡æ€æ¡† -->
    <div id="editMemberModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; backdrop-filter: blur(5px);">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--bg-tertiary); border-radius: 15px; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
            <!-- æ¨¡æ€æ¡†å¤´éƒ¨ -->
            <div style="padding: 20px 25px 15px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between;">
                <h3 style="margin: 0; color: var(--text-primary); display: flex; align-items: center; gap: 10px;">
                    âœï¸ <span id="editMemberTitle">ç¼–è¾‘ç”¨æˆ·èµ„æ–™</span>
                </h3>
                <button onclick="closeEditMemberModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: var(--text-muted); padding: 0;" title="å…³é—­">âœ•</button>
            </div>
            
            <!-- æ¨¡æ€æ¡†å†…å®¹ -->
            <form id="editMemberForm" style="padding: 20px 25px;">
                <!-- å·¦ä¾§ï¼šç”¨æˆ·åŸºæœ¬ä¿¡æ¯å±•ç¤º -->
                <div style="display: flex; gap: 20px; margin-bottom: 20px; align-items: flex-start;">
                    <div style="flex-shrink: 0; text-align: center;">
                        <div id="editMemberAvatar" style="width: 80px; height: 80px; border-radius: 50%; background: var(--card-bg); display: flex; align-items: center; justify-content: center; font-size: 40px; margin-bottom: 10px; border: 2px solid var(--border-color);">
                            ğŸ‘¤
                        </div>
                        <button type="button" class="secondary" onclick="removeUserAvatar()" style="font-size: 12px; padding: 4px 8px;" title="ç§»é™¤å¤´åƒ">ç§»é™¤å¤´åƒ</button>
                    </div>
                    
                    <div style="flex: 1;">
                        <div class="form-group">
                            <label>å­¦å·</label>
                            <input type="text" id="editStudentId" readonly style="background: var(--border-color); color: var(--text-muted);" title="å­¦å·ä¸å¯ç¼–è¾‘">
                        </div>
                        <div class="form-group">
                            <label>æ³¨å†Œæ—¶é—´</label>
                            <input type="text" id="editRegistrationTime" readonly style="background: var(--border-color); color: var(--text-muted);" title="æ³¨å†Œæ—¶é—´ä¸å¯ç¼–è¾‘">
                        </div>
                    </div>
                </div>
                
                <!-- å¯ç¼–è¾‘å­—æ®µ -->
                <div class="form-group">
                    <label for="editName">å§“å <span style="color: #dc3545;">*</span></label>
                    <input type="text" id="editName" required maxlength="20">
                    <small class="hint">ä¿®æ­£ç”¨æˆ·å§“åä¸­çš„é”™åˆ«å­—</small>
                </div>
                
                <div class="form-group">
                    <label for="editEmail">é‚®ç®±åœ°å€</label>
                    <input type="email" id="editEmail" maxlength="100">
                    <small class="hint">ç”¨æˆ·çš„è”ç³»é‚®ç®±</small>
                </div>
                
                <div class="form-group">
                    <label for="editDetailedPreferences">è¯¦ç»†é˜…è¯»åå¥½</label>
                    <textarea id="editDetailedPreferences" rows="3" maxlength="500" placeholder="æè¿°å…·ä½“çš„é˜…è¯»åå¥½..."></textarea>
                    <small class="hint">å¸®åŠ©ç”¨æˆ·å®Œå–„ä¸ªäººç®€ä»‹ï¼Œæ¸…ç†ä¸å½“å†…å®¹</small>
                </div>
                
                <div class="form-group">
                    <label>å…´è¶£æ ‡ç­¾</label>
                    <div id="editHobbiesContainer" class="checkbox-group">
                        <!-- åŠ¨æ€ç”Ÿæˆå…´è¶£æ ‡ç­¾é€‰æ‹© -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label>ä¹¦ç›®ç±»å‹åå¥½</label>
                    <div id="editBookCategoriesContainer" class="checkbox-group">
                        <!-- åŠ¨æ€ç”Ÿæˆä¹¦ç›®ç±»å‹é€‰æ‹© -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="editUserStatus">ç”¨æˆ·çŠ¶æ€</label>
                    <select id="editUserStatus">
                        <option value="active">ğŸŸ¢ å¯åŒ¹é…</option>
                        <option value="busy">ğŸŸ¡ å¿™ç¢Œä¸­</option>
                        <option value="away">ğŸ”´ æš‚ä¸åŒ¹é…</option>
                        <option value="reading">ğŸ“– ä¸“å¿ƒé˜…è¯»</option>
                    </select>
                </div>
                
                <!-- æ“ä½œç¡®è®¤åŒº -->
                <div class="permission-hint">
                    âš ï¸ æ‚¨æ­£åœ¨ç¼–è¾‘ç”¨æˆ·èµ„æ–™ã€‚è¯·è°¨æ…ä¿®æ”¹ï¼Œæ‰€æœ‰æ›´æ”¹å°†è¢«è®°å½•åœ¨å®¡è®¡æ—¥å¿—ä¸­ã€‚
                </div>
                
                <!-- æ“ä½œæŒ‰é’® -->
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--border-color);">
                    <button type="button" class="secondary" onclick="closeEditMemberModal()">å–æ¶ˆ</button>
                    <button type="submit" class="primary">ğŸ’¾ ä¿å­˜æ›´æ”¹</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ç³»ç»Ÿé…ç½®æ¨¡æ€æ¡† -->
    <div id="systemConfigModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10001; align-items: flex-start; justify-content: center; padding: 20px; overflow-y: auto;">
        <div style="background: var(--bg-tertiary); border-radius: 15px; max-width: 900px; width: 100%; box-shadow: 0 15px 35px rgba(0,0,0,0.3); margin-top: 20px;">
            <div style="padding: 20px 30px; border-bottom: 1px solid var(--border-color); background: linear-gradient(135deg, var(--bg-primary)); color: white; border-radius: 15px 15px 0 0;">
                <h3 style="margin: 0; display: flex; align-items: center; gap: 10px;">
                    âš™ï¸ ç³»ç»Ÿé…ç½®ç®¡ç†
                    <span style="font-size: 12px; background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 12px;">é«˜çº§é…ç½®</span>
                </h3>
            </div>

            <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
            <div style="display: flex; border-bottom: 2px solid var(--border-color); background: var(--bg-secondary);">
                <button class="config-tab-link active" onclick="openConfigTab(event, 'ai-config')">ğŸ¤– AIé…ç½®</button>
                <button class="config-tab-link" onclick="openConfigTab(event, 'system-params')">âš™ï¸ ç³»ç»Ÿå‚æ•°</button>
                <button class="config-tab-link" onclick="openConfigTab(event, 'feature-toggles')">ğŸ›ï¸ åŠŸèƒ½å¼€å…³</button>
                <button class="config-tab-link" onclick="openConfigTab(event, 'security-config')">ğŸ›¡ï¸ å®‰å…¨é…ç½®</button>
            </div>

            <!-- AIé…ç½®æ ‡ç­¾é¡µ -->
            <div id="ai-config" class="config-tab-content active">
                <form id="ai-config-form">
                    <div style="padding: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: var(--text-primary);">AIæœåŠ¡é…ç½®</h4>
                        
                        <div class="form-group">
                            <label>AIåŠŸèƒ½æ€»å¼€å…³</label>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <label class="config-switch">
                                    <input type="checkbox" id="aiEnabled" name="aiEnabled">
                                    <span class="config-slider"></span>
                                </label>
                                <span style="font-size: 14px; color: var(--text-secondary);">å¯ç”¨AIè¯­ä¹‰åŒ¹é…å’Œæ™ºèƒ½åˆ†æ</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="aiProvider">AIæœåŠ¡æä¾›å•†</label>
                            <select id="aiProvider" name="aiProvider" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                                <option value="custom">è‡ªå®šä¹‰API</option>
                                <option value="openai">OpenAI</option>
                                <option value="google">Google AI</option>
                                <option value="anthropic">Anthropic</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="aiBaseUrl">APIåŸºç¡€URL</label>
                            <input type="text" id="aiBaseUrl" name="aiBaseUrl" placeholder="https://api.example.com/v1" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                            <small style="color: var(--text-muted);">APIçš„åŸºç¡€URLåœ°å€</small>
                        </div>

                        <div class="form-group">
                            <label for="aiModelName">é»˜è®¤æ¨¡å‹</label>
                            <input type="text" id="aiModelName" name="aiModelName" placeholder="gpt-4.1-mini" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                            <small style="color: var(--text-muted);">ä½¿ç”¨çš„AIæ¨¡å‹åç§°</small>
                        </div>

                        <div class="form-group">
                            <label for="similarityThreshold">ç›¸ä¼¼åº¦é˜ˆå€¼</label>
                            <input type="number" id="similarityThreshold" name="similarityThreshold" min="0" max="1" step="0.1" value="0.6" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                            <small style="color: var(--text-muted);">è¯­ä¹‰åŒ¹é…çš„ç›¸ä¼¼åº¦é˜ˆå€¼ (0-1ä¹‹é—´)</small>
                        </div>

                        <div class="config-status-message" id="ai-config-status" style="display: none;"></div>
                    </div>
                </form>
            </div>

            <!-- ç³»ç»Ÿå‚æ•°æ ‡ç­¾é¡µ -->
            <div id="system-params" class="config-tab-content">
                <form id="system-params-form">
                    <div style="padding: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: var(--text-primary);">ç³»ç»Ÿè¿è¡Œå‚æ•°</h4>
                        
                        <div class="form-group">
                            <label for="logLevel">æ—¥å¿—çº§åˆ«</label>
                            <select id="logLevel" name="logLevel" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                                <option value="ERROR">ERROR - ä»…é”™è¯¯</option>
                                <option value="WARN">WARN - è­¦å‘ŠåŠä»¥ä¸Š</option>
                                <option value="INFO">INFO - ä¿¡æ¯åŠä»¥ä¸Š</option>
                                <option value="DEBUG">DEBUG - è°ƒè¯•çº§åˆ«</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="matchBatchSize">åŒ¹é…æ‰¹æ¬¡å¤§å°</label>
                            <input type="number" id="matchBatchSize" name="matchBatchSize" min="5" max="50" value="10" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                            <small style="color: var(--text-muted);">AIåŒ¹é…æ—¶æ¯æ‰¹å¤„ç†çš„ç”¨æˆ·å¯¹æ•°é‡</small>
                        </div>

                        <div class="form-group">
                            <label for="cacheTTL">ç¼“å­˜æœ‰æ•ˆæœŸ (ç§’)</label>
                            <input type="number" id="cacheTTL" name="cacheTTL" min="60" max="3600" value="300" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                            <small style="color: var(--text-muted);">æ•°æ®ç¼“å­˜çš„æœ‰æ•ˆæ—¶é—´</small>
                        </div>

                        <div class="form-group">
                            <label for="sessionTimeout">ä¼šè¯è¶…æ—¶ (ç§’)</label>
                            <input type="number" id="sessionTimeout" name="sessionTimeout" min="1800" max="86400" value="3600" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                            <small style="color: var(--text-muted);">ç®¡ç†å‘˜ç™»å½•ä¼šè¯çš„è¶…æ—¶æ—¶é—´</small>
                        </div>

                        <div class="config-status-message" id="system-params-status" style="display: none;"></div>
                    </div>
                </form>
            </div>

            <!-- åŠŸèƒ½å¼€å…³æ ‡ç­¾é¡µ -->
            <div id="feature-toggles" class="config-tab-content">
                <form id="feature-toggles-form">
                    <div style="padding: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: var(--text-primary);">åŠŸèƒ½å¼€å…³æ§åˆ¶</h4>
                        
                        <div class="switch-group" style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; margin-bottom: 10px;">
                            <label>è¯­ä¹‰æœç´¢åŠŸèƒ½</label>
                            <label class="config-switch">
                                <input type="checkbox" id="enableSemanticSearch" name="enableSemanticSearch">
                                <span class="config-slider"></span>
                            </label>
                        </div>

                        <div class="switch-group" style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; margin-bottom: 10px;">
                            <label>ç”¨æˆ·èµ„æ–™å®šåˆ¶</label>
                            <label class="config-switch">
                                <input type="checkbox" id="enableUserProfileCustomization" name="enableUserProfileCustomization">
                                <span class="config-slider"></span>
                            </label>
                        </div>

                        <div class="switch-group" style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; margin-bottom: 10px;">
                            <label>ç®¡ç†å‘˜ä»ªè¡¨æ¿V2</label>
                            <label class="config-switch">
                                <input type="checkbox" id="enableAdminDashboardV2" name="enableAdminDashboardV2">
                                <span class="config-slider"></span>
                            </label>
                        </div>

                        <div class="switch-group" style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; margin-bottom: 10px;">
                            <label>å®¡è®¡æ—¥å¿—è®°å½•</label>
                            <label class="config-switch">
                                <input type="checkbox" id="enableAuditLogging" name="enableAuditLogging">
                                <span class="config-slider"></span>
                            </label>
                        </div>

                        <div class="config-status-message" id="feature-toggles-status" style="display: none;"></div>
                    </div>
                </form>
            </div>

            <!-- å®‰å…¨é…ç½®æ ‡ç­¾é¡µ -->
            <div id="security-config" class="config-tab-content">
                <form id="security-config-form">
                    <div style="padding: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: var(--text-primary);">å®‰å…¨è®¾ç½®</h4>
                        
                        <div class="switch-group" style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; margin-bottom: 20px;">
                            <label>å¤šå› ç´ è®¤è¯ (é¢„ç•™)</label>
                            <label class="config-switch">
                                <input type="checkbox" id="mfaRequired" name="mfaRequired" disabled>
                                <span class="config-slider"></span>
                            </label>
                        </div>

                        <div class="form-group">
                            <h5 style="margin: 15px 0 10px 0; color: var(--text-primary);">å¯†ç ç®¡ç†</h5>
                            <small style="color: var(--text-muted); display: block; margin-bottom: 15px;">
                                âš ï¸ å¯†ç æ›´æ”¹åæ‰€æœ‰ç®¡ç†å‘˜éœ€è¦é‡æ–°ç™»å½•
                            </small>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label for="superAdminPassword">è¶…çº§ç®¡ç†å‘˜å¯†ç </label>
                                    <input type="password" id="superAdminPassword" name="superAdminPassword" placeholder="ç•™ç©ºè¡¨ç¤ºä¸æ›´æ”¹" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                                </div>
                                <div>
                                    <label for="regularAdminPassword">æ™®é€šç®¡ç†å‘˜å¯†ç </label>
                                    <input type="password" id="regularAdminPassword" name="regularAdminPassword" placeholder="ç•™ç©ºè¡¨ç¤ºä¸æ›´æ”¹" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background: var(--input-bg);">
                                </div>
                            </div>
                        </div>

                        <div class="config-status-message" id="security-config-status" style="display: none;"></div>
                    </div>
                </form>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div style="padding: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between; background: var(--bg-secondary); border-radius: 0 0 15px 15px;">
                <button type="button" class="secondary" onclick="closeSystemConfigModal()">å–æ¶ˆ</button>
                <div style="display: flex; gap: 10px;">
                    <button type="button" class="secondary" onclick="testSystemConfig()">ğŸ§ª æµ‹è¯•é…ç½®</button>
                    <button type="button" class="primary" onclick="saveAllSystemConfig()">ğŸ’¾ ä¿å­˜æ‰€æœ‰é…ç½®</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
